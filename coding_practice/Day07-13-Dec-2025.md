# Ansible Install nginx
---
- name: Install nginx
  hosts: all
  become: yes
    tasks: 
      - name: Install nginx
        yum:
          name: nginx
          state: present
      
      - name: Start and enable service
        service:
          state: started
          enabled: yes

# Terraforn pathnex ec2 example

provider "aws" {
  region = "us-east-1"
}

resource "aws_instance" "pathnex_ec2" {
  ami = "ami-123456"
  instance_type = "t2.micro"

  tags = {
    name = "pathnex-EC2"
  }
}

apiVersion: v1
kind: apps/v1
metadata:
  name: pathnex-app
spec:
  replicas: 2
  selector:
    amtchLabels:
      app: pathnex
  template:
    metadata: 
      labels:
        app:pathnex
      spec:
        containers:
          - name: nginx
            image:nginx
            ports:
              - containerPort: 80

#!/bin/bash
echo "Date and time: $(date)"
echo "System Uptime:"
uptime

## ðŸ”¹ Jenkins Pipeline â€” Parameterized
You will learn how to **create parameterized builds in Jenkins**.

pipeline {
  agent any
  parameters {
    string(name: 'ENVIRONMENT',defaultValue: 'dev', description: 'Deployment Environment' )
  }  
  environment {
    COMPANY_NAME = "NOKIA"
  }
  stages {
    stage('Checkout') {
      steps {
        git url: 'https://github.com/Pathnex/sample-java-app.git'
        }
      }
    stage('Deploy'){
      steps {
        sh 'echo "Deploying to $ENVIRONMENT by $COMPANY_NAME"'
      }
    }
  }    
}

## ðŸ”¹ GitLab CI â€” Parameterized via Variables
You will learn how to **use variables to parameterize GitLab jobs**.

stages:
  - deploy

variables:
  INSTITUTE_NAME: "Pathnex"
  ENVIRONMENT: "dev"

deploy:
  stage: deploy
  image: alpine:latest
  script:
    - echo "Deploying to $ENVIRONMENT by $INSTITUTE_NAME"